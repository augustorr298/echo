{"ast":null,"code":"var _jsxFileName = \"/Users/uri/Documents/GitHub/echo/prototype/src/components/SeguimientoScreen.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { Calendar, TrendingUp, Award, Target, Clock, BarChart3 } from './icons';\nimport authService from '../services/AuthService';\nimport { getUserInterventionStats, getUserAssessments, getRecentInterventions } from './firestoreHelpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst SeguimientoScreen = ({\n  onShowAnalytics\n}) => {\n  _s();\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState(null);\n  const [recentActivity, setRecentActivity] = useState([]);\n  const [weeklyMood, setWeeklyMood] = useState([]);\n  const [currentStreak, setCurrentStreak] = useState(0);\n  useEffect(() => {\n    const unsubscribe = authService.initialize(currentUser => {\n      setUser(currentUser);\n      if (currentUser) {\n        loadProgressData();\n      } else {\n        setLoading(false);\n      }\n    });\n    return () => unsubscribe && unsubscribe();\n  }, []);\n  const loadProgressData = async () => {\n    try {\n      // Load user statistics\n      const userStats = await getUserInterventionStats();\n      setStats(userStats);\n\n      // Load recent interventions\n      const recent = await getRecentInterventions(5);\n      setRecentActivity(recent || []);\n\n      // Load weekly mood/assessment data\n      const assessments = await getUserAssessments();\n      if (assessments) {\n        // Process last 7 days of mood data\n        const last7Days = assessments.slice(0, 7).reverse();\n        setWeeklyMood(last7Days);\n      }\n\n      // Calculate current streak (mock for now)\n      setCurrentStreak(calculateStreak());\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading progress data:', error);\n      setLoading(false);\n    }\n  };\n  const calculateStreak = () => {\n    // For now, return a consistent value based on user activity\n    // In a real app, this would calculate based on daily usage patterns\n    if (stats && stats.totalSessions > 0) {\n      return Math.min(stats.totalSessions, 14); // Cap at 14 days for demo\n    }\n    return 1; // Default streak for new users\n  };\n  const formatTimeAgo = timestamp => {\n    if (!timestamp) return 'Hace poco';\n    const now = new Date();\n    const time = new Date(timestamp);\n    const diffMs = now - time;\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffDays = Math.floor(diffHours / 24);\n    if (diffDays > 0) return `Hace ${diffDays} día${diffDays > 1 ? 's' : ''}`;\n    if (diffHours > 0) return `Hace ${diffHours} hora${diffHours > 1 ? 's' : ''}`;\n    return 'Hace poco';\n  };\n  const getToolEmoji = tool => {\n    const toolEmojis = {\n      'respiracion': '🫁',\n      'meditacion': '🧘‍♀️',\n      'sonidos': '🎵',\n      'relajacion': '🌊',\n      'mindfulness': '🌸',\n      'visualization': '🌅'\n    };\n    return toolEmojis[tool === null || tool === void 0 ? void 0 : tool.toLowerCase()] || '✨';\n  };\n  const getMoodColor = level => {\n    if (level <= 2) return 'bg-red-400';\n    if (level <= 3) return 'bg-yellow-400';\n    if (level <= 4) return 'bg-teal-400';\n    return 'bg-green-400';\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 text-center animate-fade-in\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"animate-spin w-8 h-8 border-4 border-violet-500 border-t-transparent rounded-full mx-auto\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-slate-500 mt-4\",\n        children: \"Cargando tu progreso...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 7\n    }, this);\n  }\n  if (!user) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"p-6 text-center animate-fade-in space-y-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-violet-100 to-purple-100 rounded-full w-24 h-24 mx-auto flex items-center justify-center\",\n        children: /*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"w-12 h-12 text-violet-600\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 109,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-2xl font-bold text-slate-800 mb-2\",\n          children: \"Tu Progreso\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 113,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-500\",\n          children: \"Inicia sesi\\xF3n para ver tu progreso personalizado y estad\\xEDsticas de bienestar\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 7\n    }, this);\n  }\n  const weeklyAverage = weeklyMood.length > 0 ? (weeklyMood.reduce((sum, mood) => sum + (mood.score || 0), 0) / weeklyMood.length).toFixed(1) : '0.0';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-6 animate-fade-in space-y-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl font-bold text-slate-800 mb-4\",\n      children: \"Tu Progreso\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 128,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-gradient-to-br from-violet-50 to-purple-50 p-5 rounded-2xl shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-bold text-violet-800 mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(TrendingUp, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 133,\n          columnNumber: 11\n        }, this), \"Resumen Semanal\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 132,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-4 mb-4\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-violet-600\",\n            children: [weeklyAverage, \"/5\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 138,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-600\",\n            children: \"Bienestar Promedio\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 137,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-center\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl font-bold text-blue-600\",\n            children: (stats === null || stats === void 0 ? void 0 : stats.totalSessions) || 0\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-slate-600\",\n            children: \"Intervenciones\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 143,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 141,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white/60 rounded-xl p-3 mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center justify-center gap-2\",\n          children: [/*#__PURE__*/_jsxDEV(Award, {\n            className: \"w-5 h-5 text-orange-500\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 150,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-slate-700\",\n            children: [\"Racha actual: \", currentStreak, \" d\\xEDas\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-2xl\",\n            children: \"\\uD83D\\uDD25\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 149,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: onShowAnalytics,\n        className: \"w-full bg-gradient-to-r from-violet-500 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-violet-600 hover:to-purple-700 transition-all\",\n        children: \"Ver Analytics Completos\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 131,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/90 p-5 rounded-2xl shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-bold text-slate-700 mb-3 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(BarChart3, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), \"Niveles de Bienestar (\\xDAltima Semana)\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"h-40 flex items-end justify-around space-x-2 mt-4\",\n        children: weeklyMood.length > 0 ? weeklyMood.map((mood, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `w-full rounded-t-lg transition-all hover:opacity-80 ${getMoodColor(mood.score)}`,\n          style: {\n            height: `${mood.score / 5 * 100}%`\n          },\n          title: `${mood.score}/5 - ${mood.date}`\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 172,\n          columnNumber: 13\n        }, this)) :\n        // Default bars if no data\n        ['40%', '60%', '50%', '80%', '30%', '40%', '20%'].map((height, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-full bg-slate-300 rounded-t-lg\",\n          style: {\n            height\n          }\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-between text-xs text-slate-500 mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"L\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"M\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 39\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"J\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 53\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"V\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 67\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"S\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 81\n        }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n          children: \"D\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 190,\n          columnNumber: 95\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 189,\n        columnNumber: 9\n      }, this), weeklyMood.length === 0 && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"text-center text-slate-500 text-sm mt-2\",\n        children: \"Completa evaluaciones diarias para ver tu progreso\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"grid grid-cols-2 gap-4\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-blue-50 to-sky-50 p-4 rounded-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Clock, {\n            className: \"w-5 h-5 text-blue-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 203,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-blue-800\",\n            children: \"Tiempo Total\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 204,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-blue-600\",\n          children: [Math.round(((stats === null || stats === void 0 ? void 0 : stats.totalMinutes) || 0) / 60), \"h \", ((stats === null || stats === void 0 ? void 0 : stats.totalMinutes) || 0) % 60, \"m\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 201,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-2 mb-2\",\n          children: [/*#__PURE__*/_jsxDEV(Target, {\n            className: \"w-5 h-5 text-green-600\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 213,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"font-semibold text-green-800\",\n            children: \"Meta Semanal\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 214,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 212,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-2xl font-bold text-green-600\",\n          children: [Math.min(Math.round(((stats === null || stats === void 0 ? void 0 : stats.totalSessions) || 0) / 7 * 100), 100), \"%\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 200,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white/90 p-5 rounded-2xl shadow-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"font-bold text-slate-700 mb-4 flex items-center gap-2\",\n        children: [/*#__PURE__*/_jsxDEV(Calendar, {\n          className: \"w-5 h-5\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 225,\n          columnNumber: 11\n        }, this), \"Actividad Reciente\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 9\n      }, this), recentActivity.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"space-y-3\",\n        children: recentActivity.map((activity, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center gap-3 p-3 bg-gradient-to-r from-slate-50 to-white rounded-lg border-l-4 border-violet-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-2xl\",\n            children: getToolEmoji(activity.tool)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex-1\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-semibold text-slate-700 capitalize\",\n              children: activity.tool || 'Herramienta de Calma'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 235,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-xs text-slate-500\",\n              children: [formatTimeAgo(activity.createdAt), \" \\u2022 \", activity.duration || 5, \" min\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 238,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 234,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"text-sm text-violet-600 font-semibold\",\n            children: activity.effectiveness || 'Efectivo'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 242,\n            columnNumber: 17\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center py-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"text-4xl mb-2\",\n          children: \"\\uD83C\\uDF31\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 250,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-slate-500\",\n          children: \"Comienza a usar las herramientas de calma para ver tu actividad aqu\\xED\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 251,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 127,\n    columnNumber: 5\n  }, this);\n};\n_s(SeguimientoScreen, \"V5ThIYZFtKmdgXqOptKrnMy1naI=\");\n_c = SeguimientoScreen;\nexport default SeguimientoScreen;\nvar _c;\n$RefreshReg$(_c, \"SeguimientoScreen\");","map":{"version":3,"names":["React","useState","useEffect","Calendar","TrendingUp","Award","Target","Clock","BarChart3","authService","getUserInterventionStats","getUserAssessments","getRecentInterventions","jsxDEV","_jsxDEV","SeguimientoScreen","onShowAnalytics","_s","user","setUser","loading","setLoading","stats","setStats","recentActivity","setRecentActivity","weeklyMood","setWeeklyMood","currentStreak","setCurrentStreak","unsubscribe","initialize","currentUser","loadProgressData","userStats","recent","assessments","last7Days","slice","reverse","calculateStreak","error","console","totalSessions","Math","min","formatTimeAgo","timestamp","now","Date","time","diffMs","diffHours","floor","diffDays","getToolEmoji","tool","toolEmojis","toLowerCase","getMoodColor","level","className","children","fileName","_jsxFileName","lineNumber","columnNumber","weeklyAverage","length","reduce","sum","mood","score","toFixed","onClick","map","index","style","height","title","date","round","totalMinutes","activity","createdAt","duration","effectiveness","_c","$RefreshReg$"],"sources":["/Users/uri/Documents/GitHub/echo/prototype/src/components/SeguimientoScreen.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Calendar, TrendingUp, Award, Target, Clock, BarChart3 } from './icons';\nimport authService from '../services/AuthService';\nimport { getUserInterventionStats, getUserAssessments, getRecentInterventions } from './firestoreHelpers';\n\nconst SeguimientoScreen = ({ onShowAnalytics }) => {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [stats, setStats] = useState(null);\n  const [recentActivity, setRecentActivity] = useState([]);\n  const [weeklyMood, setWeeklyMood] = useState([]);\n  const [currentStreak, setCurrentStreak] = useState(0);\n\n  useEffect(() => {\n    const unsubscribe = authService.initialize((currentUser) => {\n      setUser(currentUser);\n      if (currentUser) {\n        loadProgressData();\n      } else {\n        setLoading(false);\n      }\n    });\n\n    return () => unsubscribe && unsubscribe();\n  }, []);\n\n  const loadProgressData = async () => {\n    try {\n      // Load user statistics\n      const userStats = await getUserInterventionStats();\n      setStats(userStats);\n\n      // Load recent interventions\n      const recent = await getRecentInterventions(5);\n      setRecentActivity(recent || []);\n\n      // Load weekly mood/assessment data\n      const assessments = await getUserAssessments();\n      if (assessments) {\n        // Process last 7 days of mood data\n        const last7Days = assessments.slice(0, 7).reverse();\n        setWeeklyMood(last7Days);\n      }\n\n      // Calculate current streak (mock for now)\n      setCurrentStreak(calculateStreak());\n\n      setLoading(false);\n    } catch (error) {\n      console.error('Error loading progress data:', error);\n      setLoading(false);\n    }\n  };\n\n  const calculateStreak = () => {\n    // For now, return a consistent value based on user activity\n    // In a real app, this would calculate based on daily usage patterns\n    if (stats && stats.totalSessions > 0) {\n      return Math.min(stats.totalSessions, 14); // Cap at 14 days for demo\n    }\n    return 1; // Default streak for new users\n  };\n\n  const formatTimeAgo = (timestamp) => {\n    if (!timestamp) return 'Hace poco';\n    const now = new Date();\n    const time = new Date(timestamp);\n    const diffMs = now - time;\n    const diffHours = Math.floor(diffMs / (1000 * 60 * 60));\n    const diffDays = Math.floor(diffHours / 24);\n\n    if (diffDays > 0) return `Hace ${diffDays} día${diffDays > 1 ? 's' : ''}`;\n    if (diffHours > 0) return `Hace ${diffHours} hora${diffHours > 1 ? 's' : ''}`;\n    return 'Hace poco';\n  };\n\n  const getToolEmoji = (tool) => {\n    const toolEmojis = {\n      'respiracion': '🫁',\n      'meditacion': '🧘‍♀️',\n      'sonidos': '🎵',\n      'relajacion': '🌊',\n      'mindfulness': '🌸',\n      'visualization': '🌅'\n    };\n    return toolEmojis[tool?.toLowerCase()] || '✨';\n  };\n\n  const getMoodColor = (level) => {\n    if (level <= 2) return 'bg-red-400';\n    if (level <= 3) return 'bg-yellow-400';\n    if (level <= 4) return 'bg-teal-400';\n    return 'bg-green-400';\n  };\n\n  if (loading) {\n    return (\n      <div className=\"p-6 text-center animate-fade-in\">\n        <div className=\"animate-spin w-8 h-8 border-4 border-violet-500 border-t-transparent rounded-full mx-auto\"></div>\n        <p className=\"text-slate-500 mt-4\">Cargando tu progreso...</p>\n      </div>\n    );\n  }\n\n  if (!user) {\n    return (\n      <div className=\"p-6 text-center animate-fade-in space-y-6\">\n        <div className=\"bg-gradient-to-br from-violet-100 to-purple-100 rounded-full w-24 h-24 mx-auto flex items-center justify-center\">\n          <BarChart3 className=\"w-12 h-12 text-violet-600\" />\n        </div>\n        \n        <div>\n          <h1 className=\"text-2xl font-bold text-slate-800 mb-2\">Tu Progreso</h1>\n          <p className=\"text-slate-500\">\n            Inicia sesión para ver tu progreso personalizado y estadísticas de bienestar\n          </p>\n        </div>\n      </div>\n    );\n  }\n\n  const weeklyAverage = weeklyMood.length > 0 \n    ? (weeklyMood.reduce((sum, mood) => sum + (mood.score || 0), 0) / weeklyMood.length).toFixed(1)\n    : '0.0';\n\n  return (\n    <div className=\"p-6 animate-fade-in space-y-6\">\n      <h1 className=\"text-3xl font-bold text-slate-800 mb-4\">Tu Progreso</h1>\n      \n      {/* Quick Analytics Summary */}\n      <div className=\"bg-gradient-to-br from-violet-50 to-purple-50 p-5 rounded-2xl shadow-sm\">\n        <h2 className=\"font-bold text-violet-800 mb-4 flex items-center gap-2\">\n          <TrendingUp className=\"w-5 h-5\" />\n          Resumen Semanal\n        </h2>\n        <div className=\"grid grid-cols-2 gap-4 mb-4\">\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-violet-600\">{weeklyAverage}/5</div>\n            <div className=\"text-sm text-slate-600\">Bienestar Promedio</div>\n          </div>\n          <div className=\"text-center\">\n            <div className=\"text-2xl font-bold text-blue-600\">{stats?.totalSessions || 0}</div>\n            <div className=\"text-sm text-slate-600\">Intervenciones</div>\n          </div>\n        </div>\n        \n        {/* Streak Display */}\n        <div className=\"bg-white/60 rounded-xl p-3 mb-4\">\n          <div className=\"flex items-center justify-center gap-2\">\n            <Award className=\"w-5 h-5 text-orange-500\" />\n            <span className=\"font-semibold text-slate-700\">Racha actual: {currentStreak} días</span>\n            <span className=\"text-2xl\">🔥</span>\n          </div>\n        </div>\n\n        <button \n          onClick={onShowAnalytics}\n          className=\"w-full bg-gradient-to-r from-violet-500 to-purple-600 text-white py-3 rounded-xl font-semibold hover:from-violet-600 hover:to-purple-700 transition-all\"\n        >\n          Ver Analytics Completos\n        </button>\n      </div>\n\n      {/* Weekly Mood Chart */}\n      <div className=\"bg-white/90 p-5 rounded-2xl shadow-sm\">\n        <h2 className=\"font-bold text-slate-700 mb-3 flex items-center gap-2\">\n          <BarChart3 className=\"w-5 h-5\" />\n          Niveles de Bienestar (Última Semana)\n        </h2>\n        <div className=\"h-40 flex items-end justify-around space-x-2 mt-4\">\n          {weeklyMood.length > 0 ? weeklyMood.map((mood, index) => (\n            <div \n              key={index}\n              className={`w-full rounded-t-lg transition-all hover:opacity-80 ${getMoodColor(mood.score)}`}\n              style={{height: `${(mood.score / 5) * 100}%`}}\n              title={`${mood.score}/5 - ${mood.date}`}\n            />\n          )) : (\n            // Default bars if no data\n            ['40%', '60%', '50%', '80%', '30%', '40%', '20%'].map((height, index) => (\n              <div \n                key={index}\n                className=\"w-full bg-slate-300 rounded-t-lg\"\n                style={{height}}\n              />\n            ))\n          )}\n        </div>\n        <div className=\"flex justify-between text-xs text-slate-500 mt-2\">\n          <span>L</span><span>M</span><span>M</span><span>J</span><span>V</span><span>S</span><span>D</span>\n        </div>\n        {weeklyMood.length === 0 && (\n          <p className=\"text-center text-slate-500 text-sm mt-2\">\n            Completa evaluaciones diarias para ver tu progreso\n          </p>\n        )}\n      </div>\n\n      {/* Usage Statistics */}\n      <div className=\"grid grid-cols-2 gap-4\">\n        <div className=\"bg-gradient-to-br from-blue-50 to-sky-50 p-4 rounded-xl\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Clock className=\"w-5 h-5 text-blue-600\" />\n            <span className=\"font-semibold text-blue-800\">Tiempo Total</span>\n          </div>\n          <div className=\"text-2xl font-bold text-blue-600\">\n            {Math.round((stats?.totalMinutes || 0) / 60)}h {(stats?.totalMinutes || 0) % 60}m\n          </div>\n        </div>\n        \n        <div className=\"bg-gradient-to-br from-green-50 to-emerald-50 p-4 rounded-xl\">\n          <div className=\"flex items-center gap-2 mb-2\">\n            <Target className=\"w-5 h-5 text-green-600\" />\n            <span className=\"font-semibold text-green-800\">Meta Semanal</span>\n          </div>\n          <div className=\"text-2xl font-bold text-green-600\">\n            {Math.min(Math.round(((stats?.totalSessions || 0) / 7) * 100), 100)}%\n          </div>\n        </div>\n      </div>\n\n      {/* Recent Activity */}\n      <div className=\"bg-white/90 p-5 rounded-2xl shadow-sm\">\n        <h2 className=\"font-bold text-slate-700 mb-4 flex items-center gap-2\">\n          <Calendar className=\"w-5 h-5\" />\n          Actividad Reciente\n        </h2>\n        \n        {recentActivity.length > 0 ? (\n          <div className=\"space-y-3\">\n            {recentActivity.map((activity, index) => (\n              <div key={index} className=\"flex items-center gap-3 p-3 bg-gradient-to-r from-slate-50 to-white rounded-lg border-l-4 border-violet-300\">\n                <div className=\"text-2xl\">{getToolEmoji(activity.tool)}</div>\n                <div className=\"flex-1\">\n                  <div className=\"text-sm font-semibold text-slate-700 capitalize\">\n                    {activity.tool || 'Herramienta de Calma'}\n                  </div>\n                  <div className=\"text-xs text-slate-500\">\n                    {formatTimeAgo(activity.createdAt)} • {activity.duration || 5} min\n                  </div>\n                </div>\n                <div className=\"text-sm text-violet-600 font-semibold\">\n                  {activity.effectiveness || 'Efectivo'}\n                </div>\n              </div>\n            ))}\n          </div>\n        ) : (\n          <div className=\"text-center py-8\">\n            <div className=\"text-4xl mb-2\">🌱</div>\n            <p className=\"text-slate-500\">Comienza a usar las herramientas de calma para ver tu actividad aquí</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default SeguimientoScreen;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}