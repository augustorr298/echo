{"ast":null,"code":"import _objectSpread from\"/Users/uri/Documents/GitHub/echo/prototype/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect,useRef}from'react';import{ProgressiveMuscleRelaxation,SoundTherapy,ColorTherapy,MindfulWalking,VisualizationJourney}from'./components/AdvancedCalmingTools';import MentalHealthAssessment from'./components/MentalHealthAssessment';import AnalyticsDashboard from'./components/AnalyticsDashboard';import RecursosScreen from'./components/RecursosScreen';import dataCollectionService from'./services/DataCollectionService';// --- Íconos (Simulación de lucide-react) ---\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Home=props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({},props),{},{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"}),/*#__PURE__*/_jsx(\"polyline\",{points:\"9 22 9 12 15 12 15 22\"})]}));const BarChart2=props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({},props),{},{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"line\",{x1:\"18\",y1:\"20\",x2:\"18\",y2:\"10\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"12\",y1:\"20\",x2:\"12\",y2:\"4\"}),/*#__PURE__*/_jsx(\"line\",{x1:\"6\",y1:\"20\",x2:\"6\",y2:\"14\"})]}));const BookOpen=props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({},props),{},{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\"})]}));const Settings=props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({},props),{},{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"12\",r:\"3\"})]}));const User=props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({},props),{},{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"}),/*#__PURE__*/_jsx(\"circle\",{cx:\"12\",cy:\"7\",r:\"4\"})]}));const ArrowLeft=props=>/*#__PURE__*/_jsxs(\"svg\",_objectSpread(_objectSpread({},props),{},{xmlns:\"http://www.w3.org/2000/svg\",width:\"24\",height:\"24\",viewBox:\"0 0 24 24\",fill:\"none\",stroke:\"currentColor\",strokeWidth:\"2\",strokeLinecap:\"round\",strokeLinejoin:\"round\",children:[/*#__PURE__*/_jsx(\"path\",{d:\"m12 19-7-7 7-7\"}),/*#__PURE__*/_jsx(\"path\",{d:\"M19 12H5\"})]}));// --- Componentes de Herramientas de Calma ---\nconst BreathingExercise=_ref=>{let{onBack}=_ref;const[text,setText]=useState('Prepárate...');useEffect(()=>{const sequence=['Inhala...','Sostén','Exhala...','Sostén'];let i=0;const timer=setInterval(()=>{i=(i+1)%4;setText(sequence[i]);},4000);setTimeout(()=>setText('Inhala...'),500);return()=>clearInterval(timer);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-gradient-to-br from-sky-200 to-sky-300 flex flex-col items-center justify-center z-50 p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-64 h-64 flex items-center justify-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute w-full h-full bg-gradient-to-br from-sky-400 to-sky-500 rounded-full animate-breathe shadow-2xl\"}),/*#__PURE__*/_jsx(\"p\",{className:\"z-10 text-4xl font-light text-white\",children:text})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"mt-16 bg-white/80 backdrop-blur-sm text-sky-800 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-white transition-all duration-300\",children:\"Me siento mejor\"}),/*#__PURE__*/_jsx(\"style\",{children:\".animate-breathe { animation: breathe 16s ease-in-out infinite; } @keyframes breathe { 0%, 100% { transform: scale(0.8); opacity: 0.8; } 25% { transform: scale(1); opacity: 1; } 50% { transform: scale(1); opacity: 1; } 75% { transform: scale(0.8); opacity: 0.8; } }\"})]});};const GroundingExercise=_ref2=>{let{onBack}=_ref2;const[step,setStep]=useState(0);const exercises=[{instruction:\"Respira profundo. Ahora, nombra...\",emphasis:\"5 cosas\",detail:\"que puedas ver a tu alrededor.\"},{instruction:\"Concéntrate en lo que escuchas. ¿Cuáles son...\",emphasis:\"4 sonidos\",detail:\"que puedes oír ahora mismo?\"},{instruction:\"Activa tu sentido del tacto. Siente...\",emphasis:\"3 cosas\",detail:\"que estén a tu alcance.\"},{instruction:\"¿Qué puedes oler? Identifica...\",emphasis:\"2 aromas\",detail:\"distintos en el aire.\"},{instruction:\"Finalmente, ¿cuál es...\",emphasis:\"1 cosa\",detail:\"que puedas saborear?\"},{instruction:\"Estás en el presente. Estás a salvo.\",emphasis:\"\",detail:\"\"}];const handleNext=()=>{if(step<exercises.length-1){setStep(step+1);}else{onBack();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-gradient-to-br from-emerald-200 to-teal-200 flex flex-col items-center justify-center z-50 p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-lg bg-white/50 backdrop-blur-sm p-8 md:p-12 rounded-3xl shadow-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl md:text-4xl text-teal-800 leading-relaxed font-light\",children:[exercises[step].instruction,' ',/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-teal-900\",children:exercises[step].emphasis}),' ',exercises[step].detail]})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleNext,className:\"mt-12 bg-white text-teal-700 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-emerald-50 transition-colors duration-300\",children:step===exercises.length-1?\"He terminado\":\"Siguiente\"})]});};const CalmingCanvas=_ref3=>{let{onBack}=_ref3;const canvasRef=useRef(null);useEffect(()=>{const canvas=canvasRef.current;const ctx=canvas.getContext('2d');let animationFrameId;const particles=[];const resizeCanvas=()=>{canvas.width=window.innerWidth;canvas.height=window.innerHeight;};resizeCanvas();class Particle{constructor(x,y){this.x=x;this.y=y;this.size=Math.random()*5+1;this.speedX=Math.random()*2-1;this.speedY=Math.random()*2-1;this.color=\"hsla(\".concat(Math.random()*60+220,\", 80%, 70%, 0.8)\");}update(){this.x+=this.speedX;this.y+=this.speedY;if(this.size>0.2)this.size-=0.1;}draw(){ctx.fillStyle=this.color;ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,Math.PI*2);ctx.fill();}}const handleInteraction=(x,y)=>{for(let i=0;i<5;i++)particles.push(new Particle(x,y));};const handleMouseMove=e=>handleInteraction(e.clientX,e.clientY);const handleTouchMove=e=>{e.preventDefault();handleInteraction(e.touches[0].clientX,e.touches[0].clientY);};const animate=()=>{ctx.clearRect(0,0,canvas.width,canvas.height);for(let i=0;i<particles.length;i++){particles[i].update();particles[i].draw();if(particles[i].size<=0.3){particles.splice(i,1);i--;}}animationFrameId=requestAnimationFrame(animate);};animate();window.addEventListener('resize',resizeCanvas);canvas.addEventListener('mousemove',handleMouseMove);canvas.addEventListener('touchmove',handleTouchMove,{passive:false});return()=>{window.removeEventListener('resize',resizeCanvas);canvas.removeEventListener('mousemove',handleMouseMove);canvas.removeEventListener('touchmove',handleTouchMove);cancelAnimationFrame(animationFrameId);};},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-gradient-to-br from-indigo-200 to-purple-200 z-50\",children:[/*#__PURE__*/_jsx(\"canvas\",{ref:canvasRef,className:\"w-full h-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"absolute inset-0 flex flex-col items-center justify-end p-8 pointer-events-none\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-purple-800 text-lg mb-4 bg-white/50 backdrop-blur-sm px-4 py-2 rounded-full\",children:\"Dibuja en la pantalla con tu dedo.\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"bg-white text-purple-700 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-indigo-50 transition-colors duration-300 pointer-events-auto\",children:\"Listo\"})]})]});};const PositiveAffirmations=_ref4=>{let{onBack}=_ref4;const affirmations=[\"Estoy haciendo lo mejor que puedo, y eso es suficiente.\",\"Merezco sentir paz y tranquilidad.\",\"Soy capaz de superar los desafíos que se presenten.\",\"Elijo enfocarme en lo positivo.\",\"Cada respiración que tomo me llena de calma.\",\"Soy fuerte, valiente y resiliente.\"];const[index,setIndex]=useState(0);const nextAffirmation=()=>setIndex(prev=>(prev+1)%affirmations.length);return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-gradient-to-br from-amber-200 to-yellow-300 flex flex-col items-center justify-center z-50 p-8 text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"max-w-lg bg-white/50 backdrop-blur-sm p-8 md:p-12 rounded-3xl shadow-lg\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-3xl md:text-4xl text-amber-800 leading-relaxed font-light\",children:[\"\\\"\",affirmations[index],\"\\\"\"]})}),/*#__PURE__*/_jsx(\"button\",{onClick:nextAffirmation,className:\"mt-12 bg-white text-amber-700 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-yellow-50 transition-colors duration-300\",children:\"Siguiente\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onBack,className:\"mt-4 text-sm text-amber-800/80\",children:\"Volver\"})]});};const CrisisHubModal=_ref5=>{let{onSelectTool,onClose}=_ref5;const[showAdvanced,setShowAdvanced]=useState(false);const basicTools=[{id:'breathing',name:'Respira conmigo',gradient:'from-sky-500 to-cyan-400',hoverGradient:'hover:from-sky-600 hover:to-cyan-500'},{id:'grounding',name:'Anclaje a tierra (5-4-3-2-1)',gradient:'from-emerald-500 to-teal-400',hoverGradient:'hover:from-emerald-600 hover:to-teal-500'},{id:'affirmations',name:'Afirmaciones Positivas',gradient:'from-amber-500 to-yellow-400',hoverGradient:'hover:from-amber-600 hover:to-yellow-500'},{id:'canvas',name:'Un momento de distracción',gradient:'from-indigo-500 to-purple-400',hoverGradient:'hover:from-indigo-600 hover:to-purple-500'}];const advancedTools=[{id:'muscle-relaxation',name:'Relajación Muscular Progresiva',gradient:'from-violet-500 to-purple-400',hoverGradient:'hover:from-violet-600 hover:to-purple-500'},{id:'sound-therapy',name:'Terapia de Sonidos',gradient:'from-slate-600 to-slate-500',hoverGradient:'hover:from-slate-700 hover:to-slate-600'},{id:'color-therapy',name:'Cromoterapia',gradient:'from-pink-500 to-rose-400',hoverGradient:'hover:from-pink-600 hover:to-rose-500'},{id:'mindful-walking',name:'Caminata Consciente',gradient:'from-green-500 to-emerald-400',hoverGradient:'hover:from-green-600 hover:to-emerald-500'},{id:'visualization',name:'Viaje de Visualización',gradient:'from-blue-500 to-indigo-400',hoverGradient:'hover:from-blue-600 hover:to-indigo-500'}];const currentTools=showAdvanced?advancedTools:basicTools;return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-slate-900 bg-opacity-70 flex flex-col items-center justify-center z-40 p-4 backdrop-blur-md\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-md text-center\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-light text-white mb-2\",children:\"Tranquil@, todo est\\xE1 bien.\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-slate-300 mb-6\",children:\"Elige una herramienta para encontrar calma.\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex bg-slate-800 rounded-lg p-1 mb-6\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdvanced(false),className:\"flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all \".concat(!showAdvanced?'bg-white text-slate-800':'text-slate-300 hover:text-white'),children:\"B\\xE1sicas\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAdvanced(true),className:\"flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all \".concat(showAdvanced?'bg-white text-slate-800':'text-slate-300 hover:text-white'),children:\"Avanzadas\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-80 overflow-y-auto\",children:currentTools.map(tool=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>onSelectTool(tool.id),className:\"w-full bg-gradient-to-br \".concat(tool.gradient,\" text-white p-4 rounded-xl text-left text-lg font-semibold \").concat(tool.hoverGradient,\" transition-all transform hover:scale-105 shadow-lg\"),children:tool.name},tool.id))})]}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-6 right-6 text-white bg-slate-700/50 rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold hover:bg-slate-600/50 transition-colors\",children:\"\\xD7\"})]});};// --- Componentes de la App (Actualizados) ---\nconst ZenTree=()=>{const[flowers,setFlowers]=useState([]);const handleClick=e=>{e.stopPropagation();const newFlower={id:Date.now(),x:Math.random()*80+10,y:Math.random()*50+10};setFlowers(prev=>[...prev,newFlower]);};return/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full h-72 pb-4 cursor-pointer\",onClick:handleClick,children:[\" \",/*#__PURE__*/_jsxs(\"svg\",{viewBox:\"0 0 200 200\",className:\"w-full h-full\",children:[\" \",/*#__PURE__*/_jsx(\"path\",{d:\"M 100 200 C 100 180, 80 150, 80 120 S 90 80, 70 60\",stroke:\"#8B5A2B\",strokeWidth:\"5\",fill:\"none\"}),\" \",/*#__PURE__*/_jsx(\"path\",{d:\"M 80 120 C 100 110, 110 100, 120 80 S 140 50, 150 40\",stroke:\"#8B5A2B\",strokeWidth:\"4\",fill:\"none\"}),\" \",/*#__PURE__*/_jsx(\"path\",{d:\"M 70 60 C 60 50, 50 40, 40 30\",stroke:\"#8B5A2B\",strokeWidth:\"3\",fill:\"none\"}),\" \",flowers.map(f=>/*#__PURE__*/_jsx(\"circle\",{cx:\"\".concat(f.x,\"%\"),cy:\"\".concat(f.y,\"%\"),r:\"3\",fill:\"rgba(236, 72, 153, 0.8)\",className:\"animate-bloom\"},f.id)),\" \"]}),\" \",/*#__PURE__*/_jsx(\"p\",{className:\"absolute bottom-0 w-full text-center text-slate-500 text-sm\",children:\"Haz clic para ver florecer\"}),\" \",/*#__PURE__*/_jsx(\"style\",{children:\".animate-bloom { animation: bloom 0.5s ease-out forwards; } @keyframes bloom { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }\"}),\" \"]});};const AnalisisRapidoTest=_ref6=>{let{onFinish}=_ref6;const[step,setStep]=useState(0);const questions=[{q:\"En una escala del 1 al 5, ¿cómo calificarías tu nivel de energía hoy?\",a:[\"Muy bajo\",\"Bajo\",\"Normal\",\"Alto\",\"Muy alto\"]},{q:\"¿Qué emoción describe mejor tu estado de ánimo ahora mismo?\",a:[\"Tristeza\",\"Ansiedad\",\"Calma\",\"Alegría\",\"Irritación\"]},{q:\"¿Has dedicado tiempo para ti hoy?\",a:[\"No, nada\",\"Un poco\",\"Lo suficiente\",\"Sí, bastante\"]}];if(step>=questions.length){return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-white z-50 flex flex-col items-center justify-center p-8 text-center animate-fade-in\",children:[\" \",/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-bold text-slate-800 mb-4\",children:\"\\xA1Gracias por compartir!\"}),\" \",/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600 mb-8\",children:\"Reconocer c\\xF3mo te sientes es el primer paso. Recuerda ser amable contigo. Te sugerimos explorar la secci\\xF3n de 'Recursos' para una meditaci\\xF3n corta.\"}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:onFinish,className:\"bg-violet-500 text-white font-semibold py-3 px-8 rounded-full shadow-lg\",children:\"Finalizar\"}),\" \"]});}return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-white z-50 flex flex-col items-center justify-center p-6 animate-fade-in\",children:[\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"w-full max-w-sm text-center\",children:[\" \",/*#__PURE__*/_jsx(\"p\",{className:\"font-bold text-slate-700 mb-6 text-xl\",children:questions[step].q}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3\",children:[\" \",questions[step].a.map(answer=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setStep(s=>s+1),className:\"w-full bg-slate-100 text-slate-700 p-4 rounded-lg hover:bg-violet-100 hover:text-violet-700 transition-colors\",children:[\" \",answer,\" \"]},answer)),\" \"]}),\" \"]}),\" \"]});};const RecursoDetalle=_ref7=>{let{resource,onBack}=_ref7;return/*#__PURE__*/_jsxs(\"div\",{className:\"fixed inset-0 bg-white z-50 p-6 animate-fade-in overflow-y-auto\",children:[\" \",/*#__PURE__*/_jsxs(\"button\",{onClick:onBack,className:\"flex items-center gap-2 text-slate-600 font-semibold mb-6\",children:[\" \",/*#__PURE__*/_jsx(ArrowLeft,{}),\" Volver \"]}),\" \",/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-slate-800 mb-4\",children:resource.title}),\" \",/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-600 whitespace-pre-wrap leading-relaxed\",children:resource.content}),\" \"]});};const InicioScreen=_ref8=>{let{onStartTest}=_ref8;return/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-6 animate-fade-in text-center\",children:[\" \",/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-slate-800\",children:\"Hola, Usuario\"}),\" \",/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500\",children:\"T\\xF3mate un momento para conectar contigo.\"}),\" \",/*#__PURE__*/_jsx(ZenTree,{}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 p-4 rounded-2xl shadow-sm\",children:[\" \",/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-slate-700 mb-2\",children:\"An\\xE1lisis R\\xE1pido\"}),\" \",/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-500 mb-3\",children:\"Eval\\xFAa tu estado emocional actual.\"}),\" \",/*#__PURE__*/_jsx(\"button\",{onClick:onStartTest,className:\"w-full bg-violet-500 text-white text-sm font-semibold py-2 rounded-lg hover:bg-violet-600 transition-colors\",children:\"Comenzar Test\"}),\" \"]}),\" \"]});};// --- Componentes sin cambios mayores ---\nconst SeguimientoScreen=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 animate-fade-in\",children:[\" \",/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-slate-800 mb-4\",children:\"Tu Progreso\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 p-4 rounded-2xl shadow-sm\",children:[\" \",/*#__PURE__*/_jsx(\"h2\",{className:\"font-bold text-slate-700 mb-2\",children:\"Niveles de Estr\\xE9s (\\xDAltima Semana)\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"h-40 flex items-end justify-around space-x-2 mt-4\",children:[\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-teal-300 rounded-t-lg\",style:{height:'40%'}}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-teal-300 rounded-t-lg\",style:{height:'60%'}}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-teal-300 rounded-t-lg\",style:{height:'50%'}}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-teal-300 rounded-t-lg\",style:{height:'80%'}}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-teal-300 rounded-t-lg\",style:{height:'30%'}}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-teal-300 rounded-t-lg\",style:{height:'40%'}}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-full bg-teal-300 rounded-t-lg\",style:{height:'20%'}}),\" \"]}),\" \"]}),\" \"]});const AjustesScreen=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4 animate-fade-in\",children:[\" \",/*#__PURE__*/_jsx(\"h1\",{className:\"text-3xl font-bold text-slate-800 mb-4\",children:\"Ajustes\"}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 p-4 rounded-2xl shadow-sm flex justify-between items-center\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-slate-700\",children:\"Notificaciones\"}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-6 bg-slate-300 rounded-full cursor-pointer p-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-white rounded-full\"})}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 p-4 rounded-2xl shadow-sm flex justify-between items-center\",children:[\" \",/*#__PURE__*/_jsx(\"span\",{className:\"font-semibold text-slate-700\",children:\"Modo Oscuro\"}),\" \",/*#__PURE__*/_jsx(\"div\",{className:\"w-12 h-6 bg-slate-300 rounded-full cursor-pointer p-1\",children:/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 bg-white rounded-full\"})}),\" \"]}),\" \",/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white/80 p-4 rounded-2xl shadow-sm\",children:[\" \",/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-slate-600\",children:\"Privacidad de Datos\"}),\" \"]}),\" \"]});const PerfilScreen=()=>/*#__PURE__*/_jsxs(\"div\",{className:\"p-6 space-y-4 text-center animate-fade-in\",children:[\" \",/*#__PURE__*/_jsx(User,{className:\"w-24 h-24 mx-auto text-slate-500 bg-white rounded-full p-2\"}),\" \",/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-slate-800\",children:\"Usuario de ECHO\"}),\" \",/*#__PURE__*/_jsx(\"p\",{className:\"text-slate-500\",children:\"Miembro desde 2024\"}),\" \"]});const BottomNav=_ref9=>{let{activeScreen,setActiveScreen}=_ref9;const navItems=[{id:'inicio',icon:Home,label:'Inicio'},{id:'seguimiento',icon:BarChart2,label:'Seguimiento'},{id:'recursos',icon:BookOpen,label:'Recursos'},{id:'ajustes',icon:Settings,label:'Ajustes'},{id:'perfil',icon:User,label:'Perfil'}];return/*#__PURE__*/_jsxs(\"div\",{className:\"absolute bottom-0 left-0 right-0 h-20 bg-white/70 backdrop-blur-md rounded-t-3xl flex justify-around items-center shadow-top\",children:[\" \",navItems.map(item=>/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setActiveScreen(item.id),className:\"flex flex-col items-center justify-center space-y-1\",children:[\" \",/*#__PURE__*/_jsx(item.icon,{className:\"w-7 h-7 transition-colors \".concat(activeScreen===item.id?'text-violet-600':'text-slate-400')}),\" \",/*#__PURE__*/_jsx(\"span\",{className:\"text-xs font-semibold transition-colors \".concat(activeScreen===item.id?'text-violet-600':'text-slate-400'),children:item.label}),\" \"]},item.id)),\" \"]});};// --- Componente Principal de la App (Lógica Actualizada) ---\nexport default function App(){const[activeScreen,setActiveScreen]=useState('inicio');const[isHubOpen,setIsHubOpen]=useState(false);const[activeTool,setActiveTool]=useState(null);const[isTestActive,setIsTestActive]=useState(false);const[showAnalytics,setShowAnalytics]=useState(false);const[activeResource,setActiveResource]=useState(null);// Initialize data collection service\nuseEffect(()=>{dataCollectionService.initialize();},[]);const handleAssessmentComplete=results=>{// Save assessment results\ndataCollectionService.saveAssessment(results);setIsTestActive(false);// Show results or redirect to recommendations\nconsole.log('Assessment completed:',results);};const handleInterventionComplete=(type,duration,effectiveness)=>{// Track intervention usage\ndataCollectionService.saveInterventionUsage(type,duration,effectiveness);};const renderScreen=()=>{switch(activeScreen){case'inicio':return/*#__PURE__*/_jsx(InicioScreen,{onStartTest:()=>setIsTestActive(true)});case'recursos':return/*#__PURE__*/_jsx(RecursosScreen,{onSelectResource:setActiveResource});case'seguimiento':return/*#__PURE__*/_jsx(SeguimientoScreen,{onShowAnalytics:()=>setShowAnalytics(true)});case'ajustes':return/*#__PURE__*/_jsx(AjustesScreen,{});case'perfil':return/*#__PURE__*/_jsx(PerfilScreen,{});default:return/*#__PURE__*/_jsx(InicioScreen,{onStartTest:()=>setIsTestActive(true)});}};const renderActiveTool=()=>{switch(activeTool){case'breathing':return/*#__PURE__*/_jsx(BreathingExercise,{onBack:()=>setActiveTool(null)});case'grounding':return/*#__PURE__*/_jsx(GroundingExercise,{onBack:()=>setActiveTool(null)});case'canvas':return/*#__PURE__*/_jsx(CalmingCanvas,{onBack:()=>setActiveTool(null)});case'affirmations':return/*#__PURE__*/_jsx(PositiveAffirmations,{onBack:()=>setActiveTool(null)});case'muscle-relaxation':return/*#__PURE__*/_jsx(ProgressiveMuscleRelaxation,{onBack:()=>setActiveTool(null)});case'sound-therapy':return/*#__PURE__*/_jsx(SoundTherapy,{onBack:()=>setActiveTool(null)});case'color-therapy':return/*#__PURE__*/_jsx(ColorTherapy,{onBack:()=>setActiveTool(null)});case'mindful-walking':return/*#__PURE__*/_jsx(MindfulWalking,{onBack:()=>setActiveTool(null)});case'visualization':return/*#__PURE__*/_jsx(VisualizationJourney,{onBack:()=>setActiveTool(null)});default:return null;}};return/*#__PURE__*/_jsxs(\"div\",{className:\"w-full min-h-screen bg-slate-200 flex items-center justify-center p-4 font-sans\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-violet-100 via-rose-100 to-teal-100 -z-10 animate-bg-pan\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"relative w-full max-w-sm h-[800px] bg-slate-100 rounded-[40px] shadow-2xl overflow-hidden border-8 border-slate-800 flex flex-col\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute top-0 left-1/2 -translate-x-1/2 w-1/3 h-6 bg-slate-800 rounded-b-xl z-20\"}),/*#__PURE__*/_jsx(\"main\",{className:\"flex-grow overflow-y-auto pb-24\",children:renderScreen()}),activeScreen==='inicio'&&/*#__PURE__*/_jsx(\"div\",{className:\"absolute bottom-24 left-1/2 -translate-x-1/2 z-10\",children:/*#__PURE__*/_jsx(\"button\",{onClick:()=>setIsHubOpen(true),className:\"bg-gradient-to-br from-rose-500 to-orange-400 text-white font-bold py-4 px-6 rounded-full shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-rose-300 transition-all duration-300 transform hover:scale-110 flex items-center gap-3\",children:\"Momento de Calma\"})}),/*#__PURE__*/_jsx(BottomNav,{activeScreen:activeScreen,setActiveScreen:setActiveScreen})]}),isHubOpen&&/*#__PURE__*/_jsx(CrisisHubModal,{onSelectTool:tool=>{setIsHubOpen(false);setActiveTool(tool);},onClose:()=>setIsHubOpen(false)}),renderActiveTool(),isTestActive&&/*#__PURE__*/_jsx(MentalHealthAssessment,{onComplete:handleAssessmentComplete,onClose:()=>setIsTestActive(false)}),showAnalytics&&/*#__PURE__*/_jsx(AnalyticsDashboard,{onClose:()=>setShowAnalytics(false)}),activeResource&&/*#__PURE__*/_jsx(RecursoDetalle,{resource:activeResource,onBack:()=>setActiveResource(null)}),/*#__PURE__*/_jsx(\"style\",{children:\"\\n                .shadow-top { box-shadow: 0 -4px 15px rgba(0,0,0,0.05); }\\n                .animate-fade-in { animation: fadeIn 0.5s ease-in-out; }\\n                @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\\n                .animate-bg-pan {\\n                    background-size: 400% 400%;\\n                    animation: bg-pan 25s ease infinite;\\n                }\\n                @keyframes bg-pan {\\n                    0% { background-position: 0% 50%; }\\n                    50% { background-position: 100% 50%; }\\n                    100% { background-position: 0% 50%; }\\n                }\\n            \"})]});}","map":{"version":3,"names":["React","useState","useEffect","useRef","ProgressiveMuscleRelaxation","SoundTherapy","ColorTherapy","MindfulWalking","VisualizationJourney","MentalHealthAssessment","AnalyticsDashboard","RecursosScreen","dataCollectionService","jsx","_jsx","jsxs","_jsxs","Home","props","_objectSpread","xmlns","width","height","viewBox","fill","stroke","strokeWidth","strokeLinecap","strokeLinejoin","children","d","points","BarChart2","x1","y1","x2","y2","BookOpen","Settings","cx","cy","r","User","ArrowLeft","BreathingExercise","_ref","onBack","text","setText","sequence","i","timer","setInterval","setTimeout","clearInterval","className","onClick","GroundingExercise","_ref2","step","setStep","exercises","instruction","emphasis","detail","handleNext","length","CalmingCanvas","_ref3","canvasRef","canvas","current","ctx","getContext","animationFrameId","particles","resizeCanvas","window","innerWidth","innerHeight","Particle","constructor","x","y","size","Math","random","speedX","speedY","color","concat","update","draw","fillStyle","beginPath","arc","PI","handleInteraction","push","handleMouseMove","e","clientX","clientY","handleTouchMove","preventDefault","touches","animate","clearRect","splice","requestAnimationFrame","addEventListener","passive","removeEventListener","cancelAnimationFrame","ref","PositiveAffirmations","_ref4","affirmations","index","setIndex","nextAffirmation","prev","CrisisHubModal","_ref5","onSelectTool","onClose","showAdvanced","setShowAdvanced","basicTools","id","name","gradient","hoverGradient","advancedTools","currentTools","map","tool","ZenTree","flowers","setFlowers","handleClick","stopPropagation","newFlower","Date","now","f","AnalisisRapidoTest","_ref6","onFinish","questions","q","a","answer","s","RecursoDetalle","_ref7","resource","title","content","InicioScreen","_ref8","onStartTest","SeguimientoScreen","style","AjustesScreen","PerfilScreen","BottomNav","_ref9","activeScreen","setActiveScreen","navItems","icon","label","item","App","isHubOpen","setIsHubOpen","activeTool","setActiveTool","isTestActive","setIsTestActive","showAnalytics","setShowAnalytics","activeResource","setActiveResource","initialize","handleAssessmentComplete","results","saveAssessment","console","log","handleInterventionComplete","type","duration","effectiveness","saveInterventionUsage","renderScreen","onSelectResource","onShowAnalytics","renderActiveTool","onComplete"],"sources":["/Users/uri/Documents/GitHub/echo/prototype/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { \n  ProgressiveMuscleRelaxation, \n  SoundTherapy, \n  ColorTherapy, \n  MindfulWalking, \n  VisualizationJourney \n} from './components/AdvancedCalmingTools';\nimport MentalHealthAssessment from './components/MentalHealthAssessment';\nimport AnalyticsDashboard from './components/AnalyticsDashboard';\nimport RecursosScreen from './components/RecursosScreen';\nimport dataCollectionService from './services/DataCollectionService';\n\n// --- Íconos (Simulación de lucide-react) ---\nconst Home = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"/><polyline points=\"9 22 9 12 15 12 15 22\"/></svg>;\nconst BarChart2 = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><line x1=\"18\" y1=\"20\" x2=\"18\" y2=\"10\"/><line x1=\"12\" y1=\"20\" x2=\"12\" y2=\"4\"/><line x1=\"6\" y1=\"20\" x2=\"6\" y2=\"14\"/></svg>;\nconst BookOpen = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z\"/><path d=\"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z\"/></svg>;\nconst Settings = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 0 2l-.15.08a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l-.22-.38a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1 0-2l.15-.08a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z\"/><circle cx=\"12\" cy=\"12\" r=\"3\"/></svg>;\nconst User = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2\"/><circle cx=\"12\" cy=\"7\" r=\"4\"/></svg>;\nconst ArrowLeft = (props) => <svg {...props} xmlns=\"http://www.w3.org/2000/svg\" width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"none\" stroke=\"currentColor\" strokeWidth=\"2\" strokeLinecap=\"round\" strokeLinejoin=\"round\"><path d=\"m12 19-7-7 7-7\"/><path d=\"M19 12H5\"/></svg>;\n\n// --- Componentes de Herramientas de Calma ---\nconst BreathingExercise = ({ onBack }) => { const [text, setText] = useState('Prepárate...'); useEffect(() => { const sequence = ['Inhala...', 'Sostén', 'Exhala...', 'Sostén']; let i = 0; const timer = setInterval(() => { i = (i + 1) % 4; setText(sequence[i]); }, 4000); setTimeout(() => setText('Inhala...'), 500); return () => clearInterval(timer); }, []); return <div className=\"fixed inset-0 bg-gradient-to-br from-sky-200 to-sky-300 flex flex-col items-center justify-center z-50 p-4\"><div className=\"relative w-64 h-64 flex items-center justify-center\"><div className=\"absolute w-full h-full bg-gradient-to-br from-sky-400 to-sky-500 rounded-full animate-breathe shadow-2xl\"></div><p className=\"z-10 text-4xl font-light text-white\">{text}</p></div><button onClick={onBack} className=\"mt-16 bg-white/80 backdrop-blur-sm text-sky-800 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-white transition-all duration-300\">Me siento mejor</button><style>{`.animate-breathe { animation: breathe 16s ease-in-out infinite; } @keyframes breathe { 0%, 100% { transform: scale(0.8); opacity: 0.8; } 25% { transform: scale(1); opacity: 1; } 50% { transform: scale(1); opacity: 1; } 75% { transform: scale(0.8); opacity: 0.8; } }`}</style></div>; };\nconst GroundingExercise = ({ onBack }) => { const [step, setStep] = useState(0); const exercises = [ { instruction: \"Respira profundo. Ahora, nombra...\", emphasis: \"5 cosas\", detail: \"que puedas ver a tu alrededor.\" }, { instruction: \"Concéntrate en lo que escuchas. ¿Cuáles son...\", emphasis: \"4 sonidos\", detail: \"que puedes oír ahora mismo?\" }, { instruction: \"Activa tu sentido del tacto. Siente...\", emphasis: \"3 cosas\", detail: \"que estén a tu alcance.\" }, { instruction: \"¿Qué puedes oler? Identifica...\", emphasis: \"2 aromas\", detail: \"distintos en el aire.\" }, { instruction: \"Finalmente, ¿cuál es...\", emphasis: \"1 cosa\", detail: \"que puedas saborear?\" }, { instruction: \"Estás en el presente. Estás a salvo.\", emphasis: \"\", detail: \"\" }, ]; const handleNext = () => { if (step < exercises.length - 1) { setStep(step + 1); } else { onBack(); } }; return <div className=\"fixed inset-0 bg-gradient-to-br from-emerald-200 to-teal-200 flex flex-col items-center justify-center z-50 p-8 text-center\"><div className=\"max-w-lg bg-white/50 backdrop-blur-sm p-8 md:p-12 rounded-3xl shadow-lg\"><p className=\"text-3xl md:text-4xl text-teal-800 leading-relaxed font-light\">{exercises[step].instruction}{' '}<span className=\"font-semibold text-teal-900\">{exercises[step].emphasis}</span>{' '}{exercises[step].detail}</p></div><button onClick={handleNext} className=\"mt-12 bg-white text-teal-700 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-emerald-50 transition-colors duration-300\">{step === exercises.length - 1 ? \"He terminado\" : \"Siguiente\"}</button></div>; };\nconst CalmingCanvas = ({ onBack }) => { const canvasRef = useRef(null); useEffect(() => { const canvas = canvasRef.current; const ctx = canvas.getContext('2d'); let animationFrameId; const particles = []; const resizeCanvas = () => { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }; resizeCanvas(); class Particle { constructor(x, y) { this.x = x; this.y = y; this.size = Math.random() * 5 + 1; this.speedX = Math.random() * 2 - 1; this.speedY = Math.random() * 2 - 1; this.color = `hsla(${Math.random() * 60 + 220}, 80%, 70%, 0.8)`; } update() { this.x += this.speedX; this.y += this.speedY; if (this.size > 0.2) this.size -= 0.1; } draw() { ctx.fillStyle = this.color; ctx.beginPath(); ctx.arc(this.x, this.y, this.size, 0, Math.PI * 2); ctx.fill(); } } const handleInteraction = (x, y) => { for (let i = 0; i < 5; i++) particles.push(new Particle(x, y)); }; const handleMouseMove = e => handleInteraction(e.clientX, e.clientY); const handleTouchMove = e => { e.preventDefault(); handleInteraction(e.touches[0].clientX, e.touches[0].clientY); }; const animate = () => { ctx.clearRect(0, 0, canvas.width, canvas.height); for (let i = 0; i < particles.length; i++) { particles[i].update(); particles[i].draw(); if (particles[i].size <= 0.3) { particles.splice(i, 1); i--; } } animationFrameId = requestAnimationFrame(animate); }; animate(); window.addEventListener('resize', resizeCanvas); canvas.addEventListener('mousemove', handleMouseMove); canvas.addEventListener('touchmove', handleTouchMove, { passive: false }); return () => { window.removeEventListener('resize', resizeCanvas); canvas.removeEventListener('mousemove', handleMouseMove); canvas.removeEventListener('touchmove', handleTouchMove); cancelAnimationFrame(animationFrameId); }; }, []); return <div className=\"fixed inset-0 bg-gradient-to-br from-indigo-200 to-purple-200 z-50\"><canvas ref={canvasRef} className=\"w-full h-full\"></canvas><div className=\"absolute inset-0 flex flex-col items-center justify-end p-8 pointer-events-none\"><p className=\"text-purple-800 text-lg mb-4 bg-white/50 backdrop-blur-sm px-4 py-2 rounded-full\">Dibuja en la pantalla con tu dedo.</p><button onClick={onBack} className=\"bg-white text-purple-700 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-indigo-50 transition-colors duration-300 pointer-events-auto\">Listo</button></div></div>; };\n\nconst PositiveAffirmations = ({ onBack }) => {\n    const affirmations = [\n        \"Estoy haciendo lo mejor que puedo, y eso es suficiente.\",\n        \"Merezco sentir paz y tranquilidad.\",\n        \"Soy capaz de superar los desafíos que se presenten.\",\n        \"Elijo enfocarme en lo positivo.\",\n        \"Cada respiración que tomo me llena de calma.\",\n        \"Soy fuerte, valiente y resiliente.\"\n    ];\n    const [index, setIndex] = useState(0);\n    const nextAffirmation = () => setIndex((prev) => (prev + 1) % affirmations.length);\n\n    return (\n        <div className=\"fixed inset-0 bg-gradient-to-br from-amber-200 to-yellow-300 flex flex-col items-center justify-center z-50 p-8 text-center\">\n            <div className=\"max-w-lg bg-white/50 backdrop-blur-sm p-8 md:p-12 rounded-3xl shadow-lg\">\n                <p className=\"text-3xl md:text-4xl text-amber-800 leading-relaxed font-light\">\"{affirmations[index]}\"</p>\n            </div>\n            <button onClick={nextAffirmation} className=\"mt-12 bg-white text-amber-700 font-semibold py-3 px-8 rounded-full shadow-lg hover:bg-yellow-50 transition-colors duration-300\">Siguiente</button>\n            <button onClick={onBack} className=\"mt-4 text-sm text-amber-800/80\">Volver</button>\n        </div>\n    );\n};\n\nconst CrisisHubModal = ({ onSelectTool, onClose }) => {\n    const [showAdvanced, setShowAdvanced] = useState(false);\n\n    const basicTools = [\n        { id: 'breathing', name: 'Respira conmigo', gradient: 'from-sky-500 to-cyan-400', hoverGradient: 'hover:from-sky-600 hover:to-cyan-500' },\n        { id: 'grounding', name: 'Anclaje a tierra (5-4-3-2-1)', gradient: 'from-emerald-500 to-teal-400', hoverGradient: 'hover:from-emerald-600 hover:to-teal-500' },\n        { id: 'affirmations', name: 'Afirmaciones Positivas', gradient: 'from-amber-500 to-yellow-400', hoverGradient: 'hover:from-amber-600 hover:to-yellow-500' },\n        { id: 'canvas', name: 'Un momento de distracción', gradient: 'from-indigo-500 to-purple-400', hoverGradient: 'hover:from-indigo-600 hover:to-purple-500' }\n    ];\n\n    const advancedTools = [\n        { id: 'muscle-relaxation', name: 'Relajación Muscular Progresiva', gradient: 'from-violet-500 to-purple-400', hoverGradient: 'hover:from-violet-600 hover:to-purple-500' },\n        { id: 'sound-therapy', name: 'Terapia de Sonidos', gradient: 'from-slate-600 to-slate-500', hoverGradient: 'hover:from-slate-700 hover:to-slate-600' },\n        { id: 'color-therapy', name: 'Cromoterapia', gradient: 'from-pink-500 to-rose-400', hoverGradient: 'hover:from-pink-600 hover:to-rose-500' },\n        { id: 'mindful-walking', name: 'Caminata Consciente', gradient: 'from-green-500 to-emerald-400', hoverGradient: 'hover:from-green-600 hover:to-emerald-500' },\n        { id: 'visualization', name: 'Viaje de Visualización', gradient: 'from-blue-500 to-indigo-400', hoverGradient: 'hover:from-blue-600 hover:to-indigo-500' }\n    ];\n\n    const currentTools = showAdvanced ? advancedTools : basicTools;\n\n    return (\n        <div className=\"fixed inset-0 bg-slate-900 bg-opacity-70 flex flex-col items-center justify-center z-40 p-4 backdrop-blur-md\">\n            <div className=\"w-full max-w-md text-center\">\n                <h2 className=\"text-3xl font-light text-white mb-2\">Tranquil@, todo está bien.</h2>\n                <p className=\"text-lg text-slate-300 mb-6\">Elige una herramienta para encontrar calma.</p>\n                \n                {/* Toggle between basic and advanced tools */}\n                <div className=\"flex bg-slate-800 rounded-lg p-1 mb-6\">\n                    <button \n                        onClick={() => setShowAdvanced(false)}\n                        className={`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all ${\n                            !showAdvanced ? 'bg-white text-slate-800' : 'text-slate-300 hover:text-white'\n                        }`}\n                    >\n                        Básicas\n                    </button>\n                    <button \n                        onClick={() => setShowAdvanced(true)}\n                        className={`flex-1 py-2 px-4 rounded-md text-sm font-semibold transition-all ${\n                            showAdvanced ? 'bg-white text-slate-800' : 'text-slate-300 hover:text-white'\n                        }`}\n                    >\n                        Avanzadas\n                    </button>\n                </div>\n\n                <div className=\"space-y-3 max-h-80 overflow-y-auto\">\n                    {currentTools.map((tool) => (\n                        <button \n                            key={tool.id}\n                            onClick={() => onSelectTool(tool.id)} \n                            className={`w-full bg-gradient-to-br ${tool.gradient} text-white p-4 rounded-xl text-left text-lg font-semibold ${tool.hoverGradient} transition-all transform hover:scale-105 shadow-lg`}\n                        >\n                            {tool.name}\n                        </button>\n                    ))}\n                </div>\n            </div>\n            <button onClick={onClose} className=\"absolute top-6 right-6 text-white bg-slate-700/50 rounded-full w-10 h-10 flex items-center justify-center text-2xl font-bold hover:bg-slate-600/50 transition-colors\">&times;</button>\n        </div>\n    );\n};\n\n// --- Componentes de la App (Actualizados) ---\nconst ZenTree = () => { const [flowers, setFlowers] = useState([]); const handleClick = (e) => { e.stopPropagation(); const newFlower = { id: Date.now(), x: Math.random() * 80 + 10, y: Math.random() * 50 + 10 }; setFlowers(prev => [...prev, newFlower]); }; return ( <div className=\"relative w-full h-72 pb-4 cursor-pointer\" onClick={handleClick}> <svg viewBox=\"0 0 200 200\" className=\"w-full h-full\"> <path d=\"M 100 200 C 100 180, 80 150, 80 120 S 90 80, 70 60\" stroke=\"#8B5A2B\" strokeWidth=\"5\" fill=\"none\" /> <path d=\"M 80 120 C 100 110, 110 100, 120 80 S 140 50, 150 40\" stroke=\"#8B5A2B\" strokeWidth=\"4\" fill=\"none\" /> <path d=\"M 70 60 C 60 50, 50 40, 40 30\" stroke=\"#8B5A2B\" strokeWidth=\"3\" fill=\"none\" /> {flowers.map(f => ( <circle key={f.id} cx={`${f.x}%`} cy={`${f.y}%`} r=\"3\" fill=\"rgba(236, 72, 153, 0.8)\" className=\"animate-bloom\" /> ))} </svg> <p className=\"absolute bottom-0 w-full text-center text-slate-500 text-sm\">Haz clic para ver florecer</p> <style>{`.animate-bloom { animation: bloom 0.5s ease-out forwards; } @keyframes bloom { from { transform: scale(0); opacity: 0; } to { transform: scale(1); opacity: 1; } }`}</style> </div> ); };\nconst AnalisisRapidoTest = ({ onFinish }) => { const [step, setStep] = useState(0); const questions = [ { q: \"En una escala del 1 al 5, ¿cómo calificarías tu nivel de energía hoy?\", a: [\"Muy bajo\", \"Bajo\", \"Normal\", \"Alto\", \"Muy alto\"] }, { q: \"¿Qué emoción describe mejor tu estado de ánimo ahora mismo?\", a: [\"Tristeza\", \"Ansiedad\", \"Calma\", \"Alegría\", \"Irritación\"] }, { q: \"¿Has dedicado tiempo para ti hoy?\", a: [\"No, nada\", \"Un poco\", \"Lo suficiente\", \"Sí, bastante\"] } ]; if (step >= questions.length) { return ( <div className=\"fixed inset-0 bg-white z-50 flex flex-col items-center justify-center p-8 text-center animate-fade-in\"> <h2 className=\"text-2xl font-bold text-slate-800 mb-4\">¡Gracias por compartir!</h2> <p className=\"text-slate-600 mb-8\">Reconocer cómo te sientes es el primer paso. Recuerda ser amable contigo. Te sugerimos explorar la sección de 'Recursos' para una meditación corta.</p> <button onClick={onFinish} className=\"bg-violet-500 text-white font-semibold py-3 px-8 rounded-full shadow-lg\">Finalizar</button> </div> ); } return ( <div className=\"fixed inset-0 bg-white z-50 flex flex-col items-center justify-center p-6 animate-fade-in\"> <div className=\"w-full max-w-sm text-center\"> <p className=\"font-bold text-slate-700 mb-6 text-xl\">{questions[step].q}</p> <div className=\"space-y-3\"> {questions[step].a.map(answer => ( <button key={answer} onClick={() => setStep(s => s + 1)} className=\"w-full bg-slate-100 text-slate-700 p-4 rounded-lg hover:bg-violet-100 hover:text-violet-700 transition-colors\"> {answer} </button> ))} </div> </div> </div> ); };\nconst RecursoDetalle = ({ resource, onBack }) => ( <div className=\"fixed inset-0 bg-white z-50 p-6 animate-fade-in overflow-y-auto\"> <button onClick={onBack} className=\"flex items-center gap-2 text-slate-600 font-semibold mb-6\"> <ArrowLeft /> Volver </button> <h1 className=\"text-3xl font-bold text-slate-800 mb-4\">{resource.title}</h1> <p className=\"text-slate-600 whitespace-pre-wrap leading-relaxed\">{resource.content}</p> </div> );\nconst InicioScreen = ({ onStartTest }) => ( <div className=\"p-6 space-y-6 animate-fade-in text-center\"> <h1 className=\"text-3xl font-bold text-slate-800\">Hola, Usuario</h1> <p className=\"text-slate-500\">Tómate un momento para conectar contigo.</p> <ZenTree /> <div className=\"bg-white/80 p-4 rounded-2xl shadow-sm\"> <h2 className=\"font-bold text-slate-700 mb-2\">Análisis Rápido</h2> <p className=\"text-sm text-slate-500 mb-3\">Evalúa tu estado emocional actual.</p> <button onClick={onStartTest} className=\"w-full bg-violet-500 text-white text-sm font-semibold py-2 rounded-lg hover:bg-violet-600 transition-colors\">Comenzar Test</button> </div> </div> );\n\n// --- Componentes sin cambios mayores ---\nconst SeguimientoScreen = () => ( <div className=\"p-6 animate-fade-in\"> <h1 className=\"text-3xl font-bold text-slate-800 mb-4\">Tu Progreso</h1> <div className=\"bg-white/80 p-4 rounded-2xl shadow-sm\"> <h2 className=\"font-bold text-slate-700 mb-2\">Niveles de Estrés (Última Semana)</h2> <div className=\"h-40 flex items-end justify-around space-x-2 mt-4\"> <div className=\"w-full bg-teal-300 rounded-t-lg\" style={{height: '40%'}}></div> <div className=\"w-full bg-teal-300 rounded-t-lg\" style={{height: '60%'}}></div> <div className=\"w-full bg-teal-300 rounded-t-lg\" style={{height: '50%'}}></div> <div className=\"w-full bg-teal-300 rounded-t-lg\" style={{height: '80%'}}></div> <div className=\"w-full bg-teal-300 rounded-t-lg\" style={{height: '30%'}}></div> <div className=\"w-full bg-teal-300 rounded-t-lg\" style={{height: '40%'}}></div> <div className=\"w-full bg-teal-300 rounded-t-lg\" style={{height: '20%'}}></div> </div> </div> </div> );\nconst AjustesScreen = () => ( <div className=\"p-6 space-y-4 animate-fade-in\"> <h1 className=\"text-3xl font-bold text-slate-800 mb-4\">Ajustes</h1> <div className=\"bg-white/80 p-4 rounded-2xl shadow-sm flex justify-between items-center\"> <span className=\"font-semibold text-slate-700\">Notificaciones</span> <div className=\"w-12 h-6 bg-slate-300 rounded-full cursor-pointer p-1\"><div className=\"w-4 h-4 bg-white rounded-full\"></div></div> </div> <div className=\"bg-white/80 p-4 rounded-2xl shadow-sm flex justify-between items-center\"> <span className=\"font-semibold text-slate-700\">Modo Oscuro</span> <div className=\"w-12 h-6 bg-slate-300 rounded-full cursor-pointer p-1\"><div className=\"w-4 h-4 bg-white rounded-full\"></div></div> </div> <div className=\"bg-white/80 p-4 rounded-2xl shadow-sm\"> <p className=\"text-sm text-slate-600\">Privacidad de Datos</p> </div> </div> );\nconst PerfilScreen = () => ( <div className=\"p-6 space-y-4 text-center animate-fade-in\"> <User className=\"w-24 h-24 mx-auto text-slate-500 bg-white rounded-full p-2\"/> <h1 className=\"text-2xl font-bold text-slate-800\">Usuario de ECHO</h1> <p className=\"text-slate-500\">Miembro desde 2024</p> </div> );\nconst BottomNav = ({ activeScreen, setActiveScreen }) => { const navItems = [ { id: 'inicio', icon: Home, label: 'Inicio' }, { id: 'seguimiento', icon: BarChart2, label: 'Seguimiento' }, { id: 'recursos', icon: BookOpen, label: 'Recursos' }, { id: 'ajustes', icon: Settings, label: 'Ajustes' }, { id: 'perfil', icon: User, label: 'Perfil' }, ]; return ( <div className=\"absolute bottom-0 left-0 right-0 h-20 bg-white/70 backdrop-blur-md rounded-t-3xl flex justify-around items-center shadow-top\"> {navItems.map(item => ( <button key={item.id} onClick={() => setActiveScreen(item.id)} className=\"flex flex-col items-center justify-center space-y-1\"> <item.icon className={`w-7 h-7 transition-colors ${activeScreen === item.id ? 'text-violet-600' : 'text-slate-400'}`} /> <span className={`text-xs font-semibold transition-colors ${activeScreen === item.id ? 'text-violet-600' : 'text-slate-400'}`}>{item.label}</span> </button> ))} </div> ); };\n\n// --- Componente Principal de la App (Lógica Actualizada) ---\nexport default function App() {\n    const [activeScreen, setActiveScreen] = useState('inicio');\n    const [isHubOpen, setIsHubOpen] = useState(false);\n    const [activeTool, setActiveTool] = useState(null);\n    const [isTestActive, setIsTestActive] = useState(false);\n    const [showAnalytics, setShowAnalytics] = useState(false);\n    const [activeResource, setActiveResource] = useState(null);\n\n    // Initialize data collection service\n    useEffect(() => {\n        dataCollectionService.initialize();\n    }, []);\n\n    const handleAssessmentComplete = (results) => {\n        // Save assessment results\n        dataCollectionService.saveAssessment(results);\n        setIsTestActive(false);\n        \n        // Show results or redirect to recommendations\n        console.log('Assessment completed:', results);\n    };\n\n    const handleInterventionComplete = (type, duration, effectiveness) => {\n        // Track intervention usage\n        dataCollectionService.saveInterventionUsage(type, duration, effectiveness);\n    };\n\n    const renderScreen = () => {\n        switch (activeScreen) {\n            case 'inicio': return <InicioScreen onStartTest={() => setIsTestActive(true)} />;\n            case 'recursos': return <RecursosScreen onSelectResource={setActiveResource} />;\n            case 'seguimiento': return <SeguimientoScreen onShowAnalytics={() => setShowAnalytics(true)} />;\n            case 'ajustes': return <AjustesScreen />;\n            case 'perfil': return <PerfilScreen />;\n            default: return <InicioScreen onStartTest={() => setIsTestActive(true)} />;\n        }\n    };\n\n    const renderActiveTool = () => {\n        switch (activeTool) {\n            case 'breathing': return <BreathingExercise onBack={() => setActiveTool(null)} />;\n            case 'grounding': return <GroundingExercise onBack={() => setActiveTool(null)} />;\n            case 'canvas': return <CalmingCanvas onBack={() => setActiveTool(null)} />;\n            case 'affirmations': return <PositiveAffirmations onBack={() => setActiveTool(null)} />;\n            case 'muscle-relaxation': return <ProgressiveMuscleRelaxation onBack={() => setActiveTool(null)} />;\n            case 'sound-therapy': return <SoundTherapy onBack={() => setActiveTool(null)} />;\n            case 'color-therapy': return <ColorTherapy onBack={() => setActiveTool(null)} />;\n            case 'mindful-walking': return <MindfulWalking onBack={() => setActiveTool(null)} />;\n            case 'visualization': return <VisualizationJourney onBack={() => setActiveTool(null)} />;\n            default: return null;\n        }\n    };\n\n    return (\n        <div className=\"w-full min-h-screen bg-slate-200 flex items-center justify-center p-4 font-sans\">\n            <div className=\"absolute top-0 left-0 w-full h-full bg-gradient-to-br from-violet-100 via-rose-100 to-teal-100 -z-10 animate-bg-pan\"></div>\n            <div className=\"relative w-full max-w-sm h-[800px] bg-slate-100 rounded-[40px] shadow-2xl overflow-hidden border-8 border-slate-800 flex flex-col\">\n                <div className=\"absolute top-0 left-1/2 -translate-x-1/2 w-1/3 h-6 bg-slate-800 rounded-b-xl z-20\"></div>\n                \n                <main className=\"flex-grow overflow-y-auto pb-24\">\n                    {renderScreen()}\n                </main>\n                \n                {activeScreen === 'inicio' && (\n                    <div className=\"absolute bottom-24 left-1/2 -translate-x-1/2 z-10\">\n                        <button onClick={() => setIsHubOpen(true)} className=\"bg-gradient-to-br from-rose-500 to-orange-400 text-white font-bold py-4 px-6 rounded-full shadow-xl hover:shadow-2xl focus:outline-none focus:ring-4 focus:ring-rose-300 transition-all duration-300 transform hover:scale-110 flex items-center gap-3\">\n                            Momento de Calma\n                        </button>\n                    </div>\n                )}\n\n                <BottomNav activeScreen={activeScreen} setActiveScreen={setActiveScreen} />\n            </div>\n\n            {isHubOpen && <CrisisHubModal onSelectTool={(tool) => { setIsHubOpen(false); setActiveTool(tool); }} onClose={() => setIsHubOpen(false)} />}\n            {renderActiveTool()}\n            {isTestActive && <MentalHealthAssessment onComplete={handleAssessmentComplete} onClose={() => setIsTestActive(false)} />}\n            {showAnalytics && <AnalyticsDashboard onClose={() => setShowAnalytics(false)} />}\n            {activeResource && <RecursoDetalle resource={activeResource} onBack={() => setActiveResource(null)} />}\n            \n            <style>{`\n                .shadow-top { box-shadow: 0 -4px 15px rgba(0,0,0,0.05); }\n                .animate-fade-in { animation: fadeIn 0.5s ease-in-out; }\n                @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }\n                .animate-bg-pan {\n                    background-size: 400% 400%;\n                    animation: bg-pan 25s ease infinite;\n                }\n                @keyframes bg-pan {\n                    0% { background-position: 0% 50%; }\n                    50% { background-position: 100% 50%; }\n                    100% { background-position: 0% 50%; }\n                }\n            `}</style>\n        </div>\n    );\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}